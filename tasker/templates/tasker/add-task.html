{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}


{% block title %}Add Task{% endblock %}


{% block content %}

<!-- add-task.html starts here -->


<!-- ADD TASK START -->
<div class="container logging px-3 py-5">
    <!-- Add task intro -->
    <div class="container">
        <h2 class="mt-3 text-center mb-2 highlight-text-pink">Add Recipe</h2>
    </div>
    <!-- Add task form -->
    <div class="container pt-3">
        <div class="row justify-content-center">
            {% if user.is_authenticated %}
            <div class="col-11 col-md-8 mt-3">
                <form method="post" class="signup mb-5" enctype="multipart/form-data">
                    {{ form | crispy }}
                    <h3 class="mt-3 text-center mb-2 highlight-text">Subtasks</h3>
                    {{ subtask_formset.management_form }}
                    <div class="subtask-forms">
                        {% for subtask_form in subtask_formset %}
                            <div class="form-group">
                                {{ subtask_form|crispy }}
                            </div>
                        {% endfor %}
                    </div>
                    
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary btn-lg py-1 px-4 button bold">Submit</button>
                    <a class="btn btn-primary btn-lg py-1 px-4 button bold" href="#">Cancel</a>
                </form>
            </div>
            {% endif %}
        </div>
    </div>
</div>
<!-- ADD TASK END -->


<!-- add-task.html ends here -->
{%endblock%}